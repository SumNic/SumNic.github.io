<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Englich</title>
    <link rel="shortcut icon" href="images/icon.png" type="image/png">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
    <script type="text/javascript" src="data.json"></script>
</head>
<body>
  <div class="container--fluid">
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4">
      <div class="col">
          <div class="add">
            <!-- <input type="text" id="1" placeholder="select word"> -->
            <input type="text" id="1" placeholder="select word" class="form-control" aria-describedby="passwordHelpInline">
                  
            <button onclick="myfunction(this)" id="1" class="btn btn-primary btn-sm">Добавить</button>
            <button onclick="myfunctionRes()" id="res" class="btn btn-primary btn-sm">Очистить</button>
          </div>
          <div class="listen">
            <p id="word"></p>
          </div>
      </div>          
      <div class="col">
      </div> 
      <div class="col">
      </div> 
      <div class="col">
      </div> 

      </div>
      
      
    </div>
    
    
    

  </div>
  			
<script>
    
  // var arrey = JSON.parse(localStorage.getItem('myStorage'));
  var arrey = JSON.parse(data);
  console.log(arrey);
  
  // if (arrey == null) {
  //   localStorage.setItem('myStorage', JSON.stringify([]));
  //   var arrey = JSON.parse(localStorage.getItem('myStorage'));
    
    
  // } else {
  //   listen();
  // }
  listen();

  function listen(){
        
    fLen = arrey.length;
    text = "<ol>";
    for (i=0; i < fLen; i++) {
      var imegs = "<img id=" + i + " class=" + "imeges" + " src=" + "images/delete-icon.png" + " width=" + "20" + 
      " height="+ "20" + " alt=" + "Пример" + " onclick=" + "fuctionReloads(this)" + ">"

      text += "<li id=" + (i + 1) + " class=" + "li-item" +"><a class=" + "a_class" + " href=" + "https://translate.google.ru/?sl=en&tl=ru&text=" + 
        arrey[i] + "%0A&op=translate" + " target=" + "_blank" + ">" + 
        arrey[i] + "</a>" + imegs + " </li>";
    }
    text += "</ol>";
    document.getElementById("word").innerHTML = text;
  }

  function fuctionReloads(element) {
    var rel = element.id;
    arrey.splice(rel,1);
    console.log(data);
    // localStorage.setItem('myStorage', JSON.stringify(arrey));
    fs.writeFileSync('data.json', JSON.stringify(arrey)); 
    
    
    location.reload();
  }

  function myfunction(element){
    var id, x, text; 
    id = element.id;
    x = document.getElementById(id).value;
    arrey.push(x);
                                              
        listen();
                                      
    // localStorage.setItem('myStorage', JSON.stringify(arrey));
    fs.writeFileSync('data.json', JSON.stringify(arrey));
    
    
    document.getElementById(id).value = "";
  }   
        
  function myfunctionRes(){
    localStorage.clear()
    location.reload();
  }
 
</script>
 
</body>
</html>